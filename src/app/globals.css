@import "tailwindcss";
@import "@neondatabase/auth/ui/tailwind";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* CopilotKit visibility fixes */

/* Main toggle button - cream/gold to match voice button */
.copilotKitButton {
  background-color: #f4ead5 !important;
  border: 2px solid #8b6914 !important;
  color: #2a231a !important;
}

.copilotKitButton:hover {
  background-color: #fff !important;
}

.copilotKitButton svg,
.copilotKitButtonIcon svg {
  color: #2a231a !important;
  fill: #2a231a !important;
}

/* When sidebar is open */
.copilotKitButton.open {
  background-color: #8b6914 !important;
}

.copilotKitButton.open svg {
  color: #f4ead5 !important;
  fill: #f4ead5 !important;
}

/* Input send button - make visible */
.copilotKitInputControlButton {
  background-color: #8b6914 !important;
  color: #f4ead5 !important;
}

.copilotKitInputControlButton:hover {
  background-color: #6d5310 !important;
}

.copilotKitInputControlButton svg {
  color: #f4ead5 !important;
}

/* Message control buttons (copy, thumbs up/down) */
.copilotKitMessageControlButton {
  color: #666 !important;
}

.copilotKitMessageControlButton:hover {
  color: #8b6914 !important;
  background-color: #f4ead5 !important;
}

/* Header close button */
.copilotKitHeaderCloseButton {
  color: #666 !important;
}

.copilotKitHeaderCloseButton:hover {
  color: #000 !important;
}

/* Hide CopilotKit "is now live" diamond indicator */
.copilotKitActivityIndicator,
[class*="ActivityIndicator"],
[class*="activityIndicator"],
.copilotKitHeaderActivityDot,
[data-copilotkit-activity],
.copilotKitHeader [class*="dot"],
.copilotKitHeader [class*="indicator"] {
  display: none !important;
  visibility: hidden !important;
}

/* Also hide any pulsing/live indicators in header */
.copilotKitHeader span[class*="live"],
.copilotKitHeader span[class*="Live"],
.copilotKitHeader [class*="pulse"] {
  display: none !important;
}

/* Soft London background for chat messages */
.copilotKitMessages {
  background-image:
    linear-gradient(to bottom, rgba(250, 247, 240, 0.92), rgba(255, 255, 255, 0.95)),
    url('/London Map with River.jpg');
  background-size: cover;
  background-position: center;
  background-attachment: local;
}

/* Sidebar container styling */
.copilotKitSidebar {
  background-color: rgba(250, 247, 240, 0.98);
}

/* FIX: Ensure messages container is fully scrollable */
.copilotKitMessages {
  overflow-y: auto !important;
  overflow-x: hidden !important;
  -webkit-overflow-scrolling: touch !important;
  scroll-behavior: smooth !important;
  height: 100% !important;
  max-height: none !important;
}

/* Force the entire sidebar content to be scrollable */
.copilotKitWindow {
  display: flex !important;
  flex-direction: column !important;
  height: 100% !important;
  overflow: hidden !important;
}

.copilotKitWindow > div:first-child {
  flex-shrink: 0 !important; /* Header doesn't shrink */
}

.copilotKitMessagesContainer {
  flex: 1 !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  min-height: 0 !important; /* Critical for flex scroll */
  padding-bottom: 20px !important;
}

/* Ensure the messages wrapper doesn't cut off top content */
.copilotKitMessagesWrapper,
[class*="MessagesWrapper"],
[class*="messagesWrapper"] {
  padding-top: 8px !important;
  margin-top: 0 !important;
  overflow-y: auto !important;
}

/* Header with subtle London feel */
.copilotKitHeader {
  background-color: rgba(250, 247, 240, 0.95) !important;
  border-bottom: 1px solid rgba(139, 105, 20, 0.2) !important;
}

/* Input area styling */
.copilotKitInput {
  background-color: rgba(255, 255, 255, 0.9) !important;
  border-top: 1px solid rgba(139, 105, 20, 0.15) !important;
}

/* Message bubbles with soft edges */
.copilotKitAssistantMessage {
  background-color: rgba(255, 255, 255, 0.85) !important;
  border: 1px solid rgba(139, 105, 20, 0.1) !important;
}

.copilotKitUserMessage {
  background-color: rgba(139, 105, 20, 0.9) !important;
  color: #fff !important;
}
